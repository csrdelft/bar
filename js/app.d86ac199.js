(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"01f3":function(e,t,n){},1:function(e,t){},"1c0d":function(e,t,n){"use strict";n("dfa6")},"34c4":function(e,t,n){"use strict";n("a547")},4169:function(e,t,n){"use strict";n("9785")},"5eb6":function(e,t,n){"use strict";n("cc33")},"5ef3":function(e,t,n){"use strict";n("7bb8")},"681b":function(e,t,n){"use strict";n("dad7")},"7bb8":function(e,t,n){},9785:function(e,t,n){},"9ee9":function(e,t,n){"use strict";n("a9ee")},a547:function(e,t,n){},a9ee:function(e,t,n){},cc33:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.loggedIn?n("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{act:""}},[n("v-list-item",{attrs:{to:"/"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Begin")])],1),n("v-list-item",{attrs:{to:"/personen"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account-multiple")])],1),n("v-list-item-title",[e._v("Personen")])],1),n("v-list-item",{attrs:{disabled:null==e.bestellingUrl,to:e.bestellingUrl}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-receipt")])],1),n("v-list-item-title",[e._v("Invoer")])],1),n("v-list-item",{attrs:{to:"/bestellingen"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-view-list")])],1),n("v-list-item-title",[e._v("Bestellingen")])],1),n("v-list-item",{attrs:{to:"/beheer"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-wrench")])],1),n("v-list-item-title",[e._v("Beheer")])],1),n("v-list-item",{attrs:{to:"/logout"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-exit-to-app")])],1),n("v-list-item-title",[e._v("Uitloggen")])],1)],1),n("v-list-item",[n("v-list-item-icon"),n("v-list-item-title",[n("v-switch",{attrs:{hint:"Schakelt tussen licht en donker thema",inset:"",label:"Donker thema","persistent-hint":""},model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1):e._e(),n("v-app-bar",{attrs:{app:""}},[e.loggedIn?n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),n("v-toolbar-title",[e._v("C.S.R. Bar "),e.vertrouwd?n("span",[e._v("- "+e._s(e.vertrouwd.naam))]):e._e()]),n("v-spacer"),n("clock")],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:""}}),n("v-overlay",{attrs:{value:e.loading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},o=[],i=n("1da1"),s=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.tijd))])}),l=[],c=r["a"].extend({name:"Clock",data:function(){return{date:new Date}},created:function(){var e=this;setInterval((function(){e.date=new Date}),1e3)},computed:{tijd:function(){return this.date.toLocaleTimeString("nl-NL")}}}),u=c,d=n("2877"),p=Object(d["a"])(u,s,l,!1,null,"20371285",null),v=p.exports,m=r["a"].extend({components:{Clock:v},name:"App",data:function(){return{loading:!0,drawer:!1}},computed:{loggedIn:function(){return Boolean(this.$store.getters.token)},bestellingUrl:function(){var e=this.$store.state.user.selectie;return e?"/invoer/".concat(e):null},vertrouwd:function(){return this.$store.state.user.locatieToken}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loggedIn){t.next=9;break}return t.prev=1,t.next=4,e.$store.dispatch("postLogin");case 4:return t.prev=4,e.loading=!1,t.finish(4);case 7:t.next=10;break;case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,,4,7]])})))()}}),f=m,h=n("6544"),b=n.n(h),g=n("7496"),k=n("40dc"),w=n("5bc1"),x=n("a523"),_=n("553a"),j=n("132d"),V=n("8860"),y=n("da13"),O=n("1baa"),I=n("34c3"),B=n("5d23"),T=n("f6c4"),C=n("f774"),S=n("a797"),$=n("490a"),L=n("2fa4"),P=n("b73d"),R=n("2a7f"),E=Object(d["a"])(f,a,o,!1,null,null,null),A=E.exports;b()(E,{VApp:g["a"],VAppBar:k["a"],VAppBarNavIcon:w["a"],VContainer:x["a"],VFooter:_["a"],VIcon:j["a"],VList:V["a"],VListItem:y["a"],VListItemGroup:O["a"],VListItemIcon:I["a"],VListItemTitle:B["c"],VMain:T["a"],VNavigationDrawer:C["a"],VOverlay:S["a"],VProgressCircular:$["a"],VSpacer:L["a"],VSwitch:P["a"],VToolbarTitle:R["a"]});var D=n("f309"),N=n("4642");r["a"].use(D["a"]);var z=new D["a"]({theme:{dark:!0,themes:{light:{primary:"#11273a"},dark:{primary:"#607D8B"}}},lang:{locales:{nl:N["a"]},current:"nl"}}),W=n("5530"),U=(n("4de4"),n("07ac"),n("4e827"),n("c1f9"),n("d81d"),n("b0c0"),n("2f62")),M=n("bc3a"),J=n.n(M),F=(n("2ca0"),n("8c4f")),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-overlay",{attrs:{value:!0}},[n("div",{staticClass:"d-flex flex-column align-center"},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),n("span",{staticClass:"pt-2"},[e._v(e._s(e.msg))])],1)])},G=[],H=n("a981"),Z=n.n(H),X=new Z.a({clientId:"bar",authorizationUri:"".concat("https://csrdelft.nl","/authorize"),accessTokenUri:"".concat("https://csrdelft.nl","/api/v3/token"),redirectUri:"".concat(window.location.origin,"/auth/callback"),scopes:["BAR:NORMAAL","BAR:BEHEER","BAR:TRUST"]}),Y=X,Q=r["a"].extend({name:"Authorize",data:function(){return{msg:"Wachten op autorisatie",loading:!1}},methods:{setLoading:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!1,t.msg=e,n.next=4,t.$nextTick();case 4:t.loading=!0;case 5:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;this.$store.state.user.tokenData?this.$router.push("/"):(window.open(Y.token.getUri()),this.loading=!0,window.oauth2Callback=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setLoading("Token laden...");case 2:return t.prev=2,t.next=5,Y.token.getToken(n);case 5:return r=t.sent,t.next=8,e.$store.commit("setToken",r.data);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:return t.next=14,e.setLoading("Profiel laden...");case 14:return t.next=16,e.$store.dispatch("postLogin");case 16:return e.loading=!1,t.next=19,e.$router.push("/");case 19:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}())}}),q=Q,ee=Object(d["a"])(q,K,G,!1,null,"2c7129d9",null),te=ee.exports;b()(ee,{VOverlay:S["a"],VProgressCircular:$["a"]});var ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Redirecting back")])},re=[],ae=r["a"].extend({name:"AuthCallback",created:function(){window.opener&&window.opener.oauth2Callback(window.location.href),window.close()}}),oe=ae,ie=Object(d["a"])(oe,ne,re,!1,null,"aea0d49a",null),se=ie.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.persoon?n("div",[n("v-app-bar",{attrs:{flat:"",color:e.persoon.saldo>0?"success":"error"}},[n("v-toolbar-title",[e._v(e._s(e.persoon.naam))])],1),n("v-row",[n("v-col",{attrs:{cols:"9"}},[n("v-row",{staticClass:"bestelling-inhoud"},e._l(e.bestellingInhoud,(function(t){return n("v-col",{key:t.product.productId+" "+t.aantal,attrs:{cols:"3"}},[n("v-card",{staticClass:"product",on:{click:function(n){return e.verwijderInvoer(t.product.productId)}}},[n("v-card-title",{staticClass:"product-title"},[e._v(" "+e._s(t.product.beschrijving)+" "),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",{staticClass:"text-h5"},[e._v(e._s(t.aantal))])],1)],1)})),1),n("ProductWeergave",{attrs:{producten:e.producten},on:{selecteer:e.selecteerInvoer}})],1),n("v-col",{attrs:{cols:"3"}},[n("Numpad",{attrs:{"default-value":"1"},model:{value:e.aantal,callback:function(t){e.aantal=t},expression:"aantal"}}),n("BestellingSamenvatting",{attrs:{"bestelling-laden":e.bestellingLaden,persoon:e.persoon,totaal:e.totaal,annuleer:e.annuleer,plaatsBestelling:e.plaatsBestelling}})],1)],1)],1):e._e(),n("v-snackbar",{attrs:{top:"",color:"error",timeout:"5000"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.notificatieWeergeven=!1}}},"v-btn",r,!1),[e._v(" Sluiten ")])]}}]),model:{value:e.notificatieWeergeven,callback:function(t){e.notificatieWeergeven=t},expression:"notificatieWeergeven"}},[e._v(" "+e._s(e.notificatie)+" ")])],1)},ce=[],ue=n("2909"),de=n("3835"),pe=(n("4fad"),n("a9e3"),n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SimpleKeyboard",{attrs:{keyboardClass:"numpad",layout:["7 8 9","4 5 6","1 2 3","{bksp} 0 {neg}"],display:{"{bksp}":"<","{neg}":"-"},modelValue:e.modelValue,defaultValue:e.defaultValue},on:{"update:modelValue":function(t){return e.$emit("update:modelValue",t)}}})}),ve=[],me=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"d-flex flex-column align-center"},[r("v-text-field",{style:{width:"100%"},attrs:{value:t.modelValue,placeholder:t.defaultValue},on:{input:t.onChange}}),r("div",{class:(e={"d-flex flex-column":!0},e[t.keyboardClass]=!0,e)},t._l(t.layout,(function(e,n){return r("span",{key:n,staticClass:"keyboard d-inline-flex",style:{marginLeft:n*(t.staggered?32:0)+"px"}},t._l(e.split(" "),(function(e){return r("v-btn",{key:e,class:{"ma-1 keyboard-button":!0,special:e.startsWith("{")},on:{click:function(n){return t.onKeyPress(e)}}},[t._v(" "+t._s(e in t.display?t.display[e]:e)+" ")])})),1)})),0)],1)},fe=[],he=(n("fb6a"),r["a"].extend({name:"SimpleKeyboard",model:{prop:"modelValue",event:"update:modelValue"},props:{layout:{default:function(){return["Q W E R T Y U I O P {bksp}","A S D F G H J K L {leeg}","Z X C V B N M {space}"]},type:Array},display:{default:function(){return{"{leeg}":"Leeg","{space}":"Spatie","{bksp}":"Delete"}},type:Object},staggered:{default:!1,type:Boolean},keyboardClass:{default:"simple-keyboard",type:String},modelValue:{type:String},defaultValue:{default:"",type:String}},methods:{onChange:function(e){this.$emit("update:modelValue",e)},onKeyPress:function(e){switch(this.$emit("keypress",e),e){case"{leeg}":this.onChange("");break;case"{space}":this.onChange(this.modelValue+" ");break;case"{neg}":this.handleNeg();break;case"{bksp}":this.onChange(this.modelValue.slice(0,-1));break;default:this.onChange(this.modelValue+e);break}},handleNeg:function(){this.modelValue&&this.modelValue.startsWith("-")?this.onChange(this.modelValue.slice(1)):""===this.modelValue?this.onChange("-1"):this.onChange("-".concat(this.modelValue))}}})),be=he,ge=(n("1c0d"),n("8336")),ke=n("8654"),we=Object(d["a"])(be,me,fe,!1,null,null,null),xe=we.exports;b()(we,{VBtn:ge["a"],VTextField:ke["a"]});var _e=r["a"].extend({name:"Numpad",components:{SimpleKeyboard:xe},model:{prop:"modelValue",event:"update:modelValue"},props:{modelValue:String,defaultValue:{default:"",type:String}}}),je=_e,Ve=(n("5eb6"),Object(d["a"])(je,pe,ve,!1,null,null,null)),ye=Ve.exports,Oe=n("d4ec"),Ie=n("262e"),Be=n("2caf"),Te=n("9072"),Ce=(n("99af"),function(e){var t=String(Math.abs(e%100));if("0"===t?t="00":Number(t)<10&&(t="0".concat(t)),e>-100&&e<0)return"€-0,".concat(t);var n="€".concat((e-e%100)/100,",").concat(t);return n.replace("€-","-€")}),Se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e+t}),0)},$e=function(e){return"S_LID"!==e.status&&"S_GASTLID"!==e.status&&"S_NOVIET"!==e.status},Le=function(e){Object(Ie["a"])(n,e);var t=Object(Be["a"])(n);function n(){return Object(Oe["a"])(this,n),t.apply(this,arguments)}return n}(Object(Te["a"])(Error)),Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",e._l(e.producten,(function(t){return n("v-col",{key:t.productId,attrs:{cols:"2"}},[n("v-card",{staticClass:"btn-product",on:{click:function(n){return e.$emit("selecteer",t)}}},[n("v-card-title",[e._v(e._s(t.beschrijving))]),n("v-card-subtitle",[e._v(e._s(e.formatBedrag(t.prijs)))])],1)],1)})),1)},Re=[],Ee=r["a"].extend({name:"ProductWeergave",props:{producten:{type:Array,default:function(){return[]}}},methods:{formatBedrag:Ce}}),Ae=Ee,De=(n("4169"),n("b0af")),Ne=n("99d9"),ze=n("62ad"),We=n("0fd9"),Ue=Object(d["a"])(Ae,Pe,Re,!1,null,"5febcf68",null),Me=Ue.exports;b()(Ue,{VCard:De["a"],VCardSubtitle:Ne["a"],VCardTitle:Ne["c"],VCol:ze["a"],VRow:We["a"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-list",{attrs:{"two-line":""}},[n("v-list-item",[n("v-list-item-title",[e._v("Huidig saldo")]),n("v-list-item-subtitle",[e._v(e._s(e.formatBedrag(e.persoon.saldo)))])],1),n("v-list-item",[n("v-list-item-title",[e._v("Totaal bestelling")]),n("v-list-item-subtitle",[e._v(e._s(e.formatBedrag(e.totaal)))])],1),n("v-list-item",[n("v-list-item-title",[e._v("Nieuw saldo")]),n("v-list-item-subtitle",[e._v(e._s(e.formatBedrag(e.persoon.saldo-e.totaal)))])],1)],1),n("v-divider"),n("v-btn-toggle",[n("v-btn",{attrs:{block:"","x-large":"",color:"success",loading:e.bestellingLaden},on:{click:e.plaatsBestelling}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-check")])],1),n("v-btn",{attrs:{block:"",color:"error",disabled:e.bestellingLaden,"x-large":""},on:{click:e.annuleer}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-close")])],1)],1)],1)},Fe=[],Ke=r["a"].extend({name:"BestellingSamenvatting",props:{bestellingLaden:Boolean,persoon:Object,totaal:Number,plaatsBestelling:Function,annuleer:Function},methods:{formatBedrag:Ce}}),Ge=Ke,He=n("a609"),Ze=n("ce7e"),Xe=Object(d["a"])(Ge,Je,Fe,!1,null,"273e029d",null),Ye=Xe.exports;b()(Xe,{VBtn:ge["a"],VBtnToggle:He["a"],VDivider:Ze["a"],VIcon:j["a"],VList:V["a"],VListItem:y["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"]});var Qe=r["a"].extend({name:"Bestelling",components:{BestellingSamenvatting:Ye,ProductWeergave:Me,Numpad:ye},props:{socCieId:String,bestellingId:{type:String,default:""}},data:function(){return{aantal:"",bestellingLaden:!1,forceBestelling:!1,notificatie:"",notificatieWeergeven:!1}},created:function(){if(this.$store.commit("setSelectie",this.socCieId),this.bestellingId){var e=this.$store.state.producten;this.$store.commit("setInvoer",Object.entries(this.$store.state.bestelling.bestellingen[this.bestellingId].bestelLijst).map((function(t){var n=Object(de["a"])(t,2),r=n[0],a=n[1];return{aantal:a,product:e[r]}})))}else this.$store.commit("setInvoer",{})},computed:{producten:function(){return this.$store.getters.zichtbareProducten},persoon:function(){return this.socCieId?this.$store.state.personen[this.socCieId]:null},totaal:function(){var e=Object.values(this.bestellingInhoud);return Se.apply(void 0,Object(ue["a"])(e.map((function(e){return Number(e.product.prijs)*e.aantal}))))},bestellingInhoud:function(){return this.$store.state.invoer.inhoud}},methods:{formatBedrag:Ce,verwijderInvoer:function(e){this.$store.commit("verwijderInvoer",e)},selecteerInvoer:function(e){this.$store.commit("selecteerInvoer",{product:e,aantal:this.aantal}),this.aantal=""},plaatsBestelling:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.bestellingLaden=!0,t.prev=1,t.next=4,e.$store.dispatch("plaatsBestelling",{inhoud:e.bestellingInhoud,persoon:e.persoon,force:e.forceBestelling});case 4:return e.forceBestelling=!1,t.next=7,e.$store.dispatch("postLogin");case 7:return e.bestellingLaden=!1,e.$store.commit("clearInvoer"),e.$store.commit("setSelectie",null),t.next=12,e.$router.replace("/personen");case 12:t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](1),t.t0 instanceof Le?setTimeout((function(){e.forceBestelling=!0,e.bestellingLaden=!1}),3e3):e.bestellingLaden=!1,e.notificatie=t.t0.message,e.notificatieWeergeven=!0;case 19:case"end":return t.stop()}}),t,null,[[1,14]])})))()},annuleer:function(){this.$store.commit("clearInvoer"),this.aantal="",this.forceBestelling=!1,this.$store.commit("setSelectie",null),this.$router.replace("/personen")}}}),qe=Qe,et=(n("9ee9"),n("2db4")),tt=Object(d["a"])(qe,le,ce,!1,null,"0adbe5dc",null),nt=tt.exports;b()(tt,{VAppBar:k["a"],VBtn:ge["a"],VCard:De["a"],VCardText:Ne["b"],VCardTitle:Ne["c"],VCol:ze["a"],VIcon:j["a"],VRow:We["a"],VSnackbar:et["a"],VSpacer:L["a"],VToolbarTitle:R["a"]});var rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedIn?n("v-container",{staticClass:"login-main"},[n("h1",[e._v("Welkom in het bar systeem! "+e._s(e.profielNaam))]),n("p",[n("v-btn",{attrs:{"x-large":"",to:"/personen"}},[e._v("Beginnen")])],1),e.isAdmin?n("div"):e._e()]):n("v-container",{staticClass:"login-main"},[n("h1",[e._v("Barsysteem C.S.R.")]),n("p",[e._v(" Welkom "),e.vertrouwd?n("span",[e._v("terug")]):e._e(),e._v(" bij het barsysteem, gebruik je stek account om in te loggen. ")]),n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:function(t){return e.$router.push("/auth/csr")}}},[e._v("Login")])],1)},at=[],ot=(n("caad"),n("2532"),r["a"].extend({name:"Login",data:function(){return{naam:""}},computed:{profielNaam:function(){var e,t;return null!==(e=null===(t=this.$store.state.user.profiel)||void 0===t?void 0:t.displayName)&&void 0!==e?e:""},vertrouwd:function(){return this.$store.state.user.locatieToken},isAdmin:function(){var e,t;return null!==(e=null===(t=this.$store.state.user.profiel)||void 0===t?void 0:t.scopes.includes("BAR:TRUST"))&&void 0!==e&&e},loggedIn:function(){return!!this.$store.state.user.tokenData}}})),it=ot,st=(n("5ef3"),Object(d["a"])(it,rt,at,!1,null,"2f53ec38",null)),lt=st.exports;b()(st,{VBtn:ge["a"],VContainer:x["a"]});var ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-main",{staticClass:"logout-main"},[n("h1",[e._v("Weet je zeker dat je wil uitloggen?")]),n("v-btn-toggle",[n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.logout}},[e._v("Uitloggen")]),n("v-btn",{attrs:{"x-large":""},on:{click:function(t){return e.$router.push("/")}}},[e._v("Terug")])],1)],1)],1)},ut=[],dt=r["a"].extend({name:"Logout",methods:{logout:function(){this.$router.push("/auth/logout")}}}),pt=dt,vt=(n("f75a"),Object(d["a"])(pt,ct,ut,!1,null,"dde49842",null)),mt=vt.exports;b()(vt,{VBtn:ge["a"],VBtnToggle:He["a"],VContainer:x["a"],VMain:T["a"]});var ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-main",[n("h1",[e._v("Uitloggen...")])])],1)},ht=[],bt=r["a"].extend({name:"Logout",created:function(){this.$store.commit("setToken",null),this.$router.push("/")}}),gt=bt,kt=Object(d["a"])(gt,ft,ht,!1,null,"fb83691c",null),wt=kt.exports;b()(kt,{VContainer:x["a"],VMain:T["a"]});var xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("Keyboard",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("LedenTable",{attrs:{zoeken:e.value}})],1)},_t=[],jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SimpleKeyboard",{attrs:{modelValue:e.modelValue,"keyboard-class":"full-keyboard",staggered:""},on:{"update:modelValue":e.emitValue}})},Vt=[],yt=r["a"].extend({name:"Keyboard",model:{prop:"modelValue",event:"update:modelValue"},components:{SimpleKeyboard:xe},props:{modelValue:{type:String}},methods:{emitValue:function(e){var t,n=e;n&&(n=null===(t=n)||void 0===t?void 0:t.toUpperCase());this.$emit("update:modelValue",n)}}}),Ot=yt,It=(n("681b"),Object(d["a"])(Ot,jt,Vt,!1,null,null,null)),Bt=It.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{headers:e.headers,items:e.personen,"item-key":"socCieId","item-class":e.tableRowClassName,"items-per-page":-1,"hide-default-footer":""},on:{"click:row":e.rowClick},scopedSlots:e._u([{key:"item.saldo",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatBedrag(n.saldo))+" ")]}}])})},Ct=[],St=(n("466d"),r["a"].extend({name:"LedenTable",props:{zoeken:String},computed:{personen:function(){return this.$store.getters.personenWeergave.filter(this.filterPersoon)},headers:function(){return[{text:"Bijnaam",value:"bijnaam"},{text:"Naam",value:"naam"},{text:"Saldo",value:"saldo"}]}},methods:{formatBedrag:Ce,rowClick:function(e){this.$router.push("/invoer/".concat(e.socCieId))},tableRowClassName:function(e){var t=e.saldo<0?"error":"success",n=this.$vuetify.theme.dark?"darken-4":"lighten-5";return"".concat(t," ").concat(n)},filterPersoon:function(e){return e.bijnaam.toUpperCase().match(this.zoeken)||e.naam.toUpperCase().match(this.zoeken)}}})),$t=St,Lt=n("8fea"),Pt=Object(d["a"])($t,Tt,Ct,!1,null,"480328be",null),Rt=Pt.exports;b()(Pt,{VDataTable:Lt["a"]});var Et=r["a"].extend({name:"Personen",components:{LedenTable:Rt,Keyboard:Bt},data:function(){return{value:""}},computed:{upperValue:function(){return this.value.toUpperCase()}},methods:{change:function(e){this.value=e}}}),At=Et,Dt=(n("34c4"),Object(d["a"])(At,xt,_t,!1,null,null,null)),Nt=Dt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-switch",{attrs:{label:"Alleen geselecteerde persoon"},model:{value:e.zoekInAlles,callback:function(t){e.zoekInAlles=t},expression:"zoekInAlles"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"datumMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Datum","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.datumText,callback:function(t){e.datumText=t},expression:"datumText"}},"v-text-field",a,!1),r))]}}]),model:{value:e.datumMenu,callback:function(t){e.datumMenu=t},expression:"datumMenu"}},[n("v-date-picker",{attrs:{range:"",min:"1950-01-01"},model:{value:e.datum,callback:function(t){e.datum=t},expression:"datum"}})],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{title:"Filter op specifieke producten",type:e.isIndeterminate?"primary":"default"}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-tune")]),e._v(" Producten ")],1)]}}]),model:{value:e.productSelectieZichtbaar,callback:function(t){e.productSelectieZichtbaar=t},expression:"productSelectieZichtbaar"}},[n("v-card",[n("v-card-title",[e._v("Selecteer producten")]),n("v-card-text",[n("v-checkbox",{attrs:{indeterminate:e.isIndeterminate,label:"Alle"},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("Alle ")]),n("v-divider"),n("v-row",e._l(e.producten,(function(t){return n("v-col",{key:t.productId,attrs:{cols:"3"}},[n("v-checkbox",{attrs:{value:t.productId,label:t.beschrijving},model:{value:e.selectedProducten,callback:function(t){e.selectedProducten=t},expression:"selectedProducten"}})],1)})),1)],1)],1)],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{size:"medium"},on:{click:e.zoeken}},[e._v("Zoeken")])],1),n("v-col",[n("v-data-table",{attrs:{items:e.bestellingen,headers:e.headers,"sort-by":"tijd","sort-desc":""},scopedSlots:e._u([{key:"item.persoon",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.naamFormatter(n))+" ")]}},{key:"item.bestelLijst",fn:function(t){var r=t.item;return[n("ul",e._l(e.getBestelLijstString(r.bestelLijst),(function(t){return n("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]}},{key:"item.bestelTotaal",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatBedrag(n.bestelTotaal))+" ")]}},{key:"item.opties",fn:function(t){var r=t.item;return["0"===r.deleted?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.handleEdit(r)}}},[e._v(" mdi-pencil ")]):e._e(),"0"===r.deleted?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleVerwijder(r)}}},[e._v(" mdi-delete ")]):e._e(),"1"===r.deleted?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleHerstel(r)}}},[e._v("mdi-restore")]):e._e()]}}])})],1)],1)},Wt=[],Ut=(n("a15b"),r["a"].extend({name:"Bestellingen",computed:{bestellingen:function(){return Object.values(this.$store.state.bestelling.bestellingen)},producten:function(){return Object.values(this.$store.state.producten).filter((function(e){return"0"===e.beheer&&"1"===e.status}))},headers:function(){return[{text:"Naam",value:"persoon"},{text:"Datum en tijd",value:"tijd"},{text:"Totaal",value:"bestelTotaal"},{text:"Bestelling",value:"bestelLijst"},{text:"Opties",value:"opties",sortable:!1}]},isIndeterminate:function(){return this.selectedProducten.length>0&&this.selectedProducten.length<this.producten.length},datumText:function(){return this.datum.join(" ~ ")}},data:function(){return{verwijderLaden:{},herstelLaden:{},productSelectieZichtbaar:!1,zoekInAlles:!0,datum:[new Date(+new Date-1296e6).toISOString().substr(0,10),(new Date).toISOString().substr(0,10)],datumMenu:!1,selectedProducten:[],checkAll:!1,shortcuts:[{text:"Afgelopen week",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}()},{text:"Laatste 2 weken",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-1296e6),[t,e]}()},{text:"Afgelopen maand",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}()},{text:"Laatste 3 maanden",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}()}]}},methods:{naamFormatter:function(e){var t;return null===(t=this.getPersoon(e.persoon))||void 0===t?void 0:t.naam},getPersoon:function(e){return this.$store.state.personen[e]},getProduct:function(e){return this.$store.state.producten[e]},getBestelLijstString:function(e){var t=this;return Object.entries(e).map((function(e){var n,r=Object(de["a"])(e,2),a=r[0],o=r[1];return"".concat(o," ").concat(null===(n=t.getProduct(a))||void 0===n?void 0:n.beschrijving)}))},formatBedrag:Ce,handleCheckedProductenChange:function(e){this.checkAll=e.length===this.producten.length},handleCheckAllChange:function(e){this.selectedProducten=e?this.producten.map((function(e){return e.productId})):[]},handleEdit:function(e){this.$router.push("/invoer/".concat(e.persoon,"/bewerken/").concat(e.bestelId))},handleVerwijder:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.verwijderLaden[e.bestelId]=!0,n.prev=1,n.next=4,t.$store.dispatch("verwijderBestelling",e);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n["catch"](1);case 8:delete t.verwijderLaden[e.bestelId];case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},handleHerstel:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.herstelLaden[e.bestelId]=!0,n.prev=1,n.next=4,t.$store.dispatch("herstelBestelling",e);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n["catch"](1);case 8:delete t.verwijderLaden[e.bestelId];case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},zoeken:function(){this.$store.dispatch("fetchBestellingen",{aantal:this.zoekInAlles?"alles":this.$store.state.user.selectie,begin:this.datum[0],eind:this.datum[1],productType:this.selectedProducten})}},created:function(){var e=this;setTimeout((function(){e.$store.dispatch("fetchBestellingen",{aantal:"alles",begin:"",eind:"",productType:[]})}),1e3)}})),Mt=Ut,Jt=(n("e06c"),n("ac7c")),Ft=n("2e4b"),Kt=n("169a"),Gt=n("e449"),Ht=Object(d["a"])(Mt,zt,Wt,!1,null,null,null),Zt=Ht.exports;b()(Ht,{VBtn:ge["a"],VCard:De["a"],VCardText:Ne["b"],VCardTitle:Ne["c"],VCheckbox:Jt["a"],VCol:ze["a"],VDataTable:Lt["a"],VDatePicker:Ft["a"],VDialog:Kt["a"],VDivider:Ze["a"],VIcon:j["a"],VMenu:Gt["a"],VRow:We["a"],VSwitch:P["a"],VTextField:ke["a"]});var Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4"}},[e.isBeheer?n("beheer-bijnaam"):e._e()],1),n("v-col",{attrs:{cols:"4"}},[e.isBeheer?n("beheer-vertrouw"):e._e()],1)],1)},Yt=[],Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Bijnaam aanpassen")]),n("v-card-text",[n("v-autocomplete",{attrs:{label:"Naam",items:e.personen,"item-text":"naam","item-value":"socCieId",clearable:""},on:{change:e.selecteerPersoon}}),n("v-text-field",{attrs:{label:"Bijnaam"},model:{value:e.bijnaam,callback:function(t){e.bijnaam=t},expression:"bijnaam"}}),n("v-btn",{attrs:{block:"",loading:e.laden,disabled:null==e.persoon},on:{click:e.opslaan}},[e._v("Opslaan")])],1)],1)},qt=[],en=r["a"].extend({data:function(){return{persoon:null,bijnaam:"",laden:!1}},computed:{personen:function(){return this.$store.getters.personenWeergave}},methods:{selecteerPersoon:function(e){var t,n;e?(this.persoon=this.$store.state.personen[e],this.bijnaam=null!==(t=null===(n=this.persoon)||void 0===n?void 0:n.bijnaam)&&void 0!==t?t:""):(this.persoon=null,this.bijnaam="")},opslaan:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.persoon){t.next=2;break}throw new Error("Persoon niet geselecteerd");case 2:return e.laden=!0,t.next=5,e.$store.dispatch("updateBijnaam",{id:e.persoon.socCieId,name:e.bijnaam});case 5:e.laden=!1;case 6:case"end":return t.stop()}}),t)})))()}}}),tn=en,nn=n("c6a6"),rn=Object(d["a"])(tn,Qt,qt,!1,null,"22c22b54",null),an=rn.exports;b()(rn,{VAutocomplete:nn["a"],VBtn:ge["a"],VCard:De["a"],VCardText:Ne["b"],VCardTitle:Ne["c"],VTextField:ke["a"]});var on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Locatie vertrouwen")]),n("v-card-text",[e.vertrouwd?n("div",[n("p",[e._v("Deze locatie is vertrouwd: "+e._s(e.vertrouwd.naam))]),n("v-btn",{attrs:{color:"primary"},on:{click:e.stopVertrouwen}},[e._v(" Deze locatie niet langer vertrouwen. ")])],1):n("div",[n("p",[e._v(" Door een locatie te vertrouwen wordt het mogelijk voor alle leden om in te loggen in het bar systeem. Gebruik deze functie alleen op vertrouwde plekken. ")]),n("p",[n("v-text-field",{attrs:{label:"Naam van deze locatie"},model:{value:e.naam,callback:function(t){e.naam=t},expression:"naam"}}),n("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.vertrouw}},[e._v(" Vertrouw deze locatie ")])],1)])])],1)},sn=[],ln=r["a"].extend({data:function(){return{naam:""}},computed:{vertrouwd:function(){return this.$store.state.user.locatieToken}},methods:{vertrouw:function(){this.$store.dispatch("vertrouwLocatie",this.naam)},stopVertrouwen:function(){this.$store.commit("setLocatieToken",null)}}}),cn=ln,un=Object(d["a"])(cn,on,sn,!1,null,null,null),dn=un.exports;b()(un,{VBtn:ge["a"],VCard:De["a"],VCardText:Ne["b"],VCardTitle:Ne["c"],VTextField:ke["a"]});var pn=r["a"].extend({components:{BeheerBijnaam:an,BeheerVertrouw:dn},computed:{isBeheer:function(){var e,t;return null!==(e=null===(t=this.$store.state.user.profiel)||void 0===t?void 0:t.scopes.includes("BAR:BEHEER"))&&void 0!==e&&e}}}),vn=pn,mn=Object(d["a"])(vn,Xt,Yt,!1,null,"2fcc2efa",null),fn=mn.exports;b()(mn,{VCol:ze["a"],VRow:We["a"]});var hn=n("852e"),bn=n.n(hn),gn={sameSite:"strict"},kn=function(e){bn.a.set("token",JSON.stringify(e),gn)},wn=function(){return bn.a.remove("token",gn)},xn=function(){var e=bn.a.get("token");return e?JSON.parse(e):null},_n=function(){var e=xn();return e?new H["Token"](Y,e):null},jn=function(e){return null==e?null:new H["Token"](Y,e)},Vn={sameSite:"strict",expires:new Date(+new Date+864e8)},yn=function(e){bn.a.set("locatie-token",JSON.stringify(e),Vn)},On=function(){bn.a.remove("locatie-token",Vn)},In=function(){var e=bn.a.get("locatie-token");return e?JSON.parse(e):null};r["a"].use(F["a"]);var Bn=[{path:"/",name:"Home",component:lt},{path:"/personen",name:"Persoonselectie",component:Nt},{path:"/invoer/:socCieId",name:"Invoer",component:nt,props:!0},{path:"/invoer/:socCieId/bewerken/:bestellingId",name:"Invoer bewerken",component:nt,props:!0},{path:"/bestellingen",name:"Bestellingen",component:Zt},{path:"/auth/csr",name:"Authorize",component:te},{path:"/auth/callback",name:"AuthCallback",component:se},{path:"/logout",name:"Logout",component:mt},{path:"/auth/logout",name:"AuthLogout",component:wt},{path:"/beheer",name:"Beheer",component:fn}],Tn=new F["a"]({mode:"history",routes:Bn});Tn.beforeEach((function(e,t,n){if("/"!==e.path&&!e.path.startsWith("/auth")){var r=_n();if(!r)return void n({path:"/"})}n()}));var Cn=Tn,Sn=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=_n(),n){e.next=5;break}return e.next=4,Cn.push("/auth/logout");case 4:throw new Error("Geen token");case 5:return e.prev=5,e.next=8,J()(n.sign(Object(W["a"])(Object(W["a"])({},t),{},{headers:Object(W["a"])(Object(W["a"])({},t.headers),{},{"Content-Type":"application/json","X-Bar-Token":In()}),url:"https://csrdelft.nl"+t.url})));case 8:return r=e.sent,e.abrupt("return",r.data);case 12:if(e.prev=12,e.t0=e["catch"](5),!e.t0.response||401!==e.t0.response.status){e.next=18;break}return e.next=17,Cn.push("/auth/logout");case 17:throw new Error("Niet ingelogd!");case 18:throw new Error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),$n=function(e){return e},Ln=$n({state:function(){return{bestellingen:{}}},mutations:{setBestellingen:function(e,t){e.bestellingen=Object.fromEntries(Object.values(t).map((function(e){return[e.bestelId,e]})))},updateBestelling:function(e,t){e.bestellingen[t.bestelId]=t}},actions:{fetchBestellingen:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,n.next=3,Sn({url:"/api/v3/bar/laadLaatste",method:"POST",data:JSON.stringify(t)});case 3:r.bestellingen=n.sent;case 4:case"end":return n.stop()}}),n)})))()},verwijderBestelling:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Sn({url:"/api/v3/bar/verwijderBestelling",method:"POST",data:JSON.stringify({verwijderBestelling:t})});case 3:if(a=n.sent,a){n.next=6;break}throw new Error("Verwijderen van bestelling mislukt");case 6:r("updateBestelling",Object(W["a"])(Object(W["a"])({},t),{},{deleted:"1"}));case 7:case"end":return n.stop()}}),n)})))()},herstelBestelling:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Sn({url:"/api/v3/bar/undoVerwijderBestelling",method:"POST",data:JSON.stringify({undoVerwijderBestelling:t})});case 3:if(a=n.sent,a){n.next=6;break}throw new Error("Herstellen van bestelling mislukt");case 6:r("updateBestelling",Object(W["a"])(Object(W["a"])({},t),{},{deleted:"0"}));case 7:case"end":return n.stop()}}),n)})))()}},getters:{}}),Pn=function(e){return e},Rn=Pn({state:function(){return{inhoud:{}}},mutations:{setInvoer:function(e,t){e.inhoud=Object.fromEntries(Object.values(t).map((function(e){return[e.product.productId,e]})))},selecteerInvoer:function(e,t){var n=t.product,a=t.aantal;n.productId in e.inhoud||r["a"].set(e.inhoud,n.productId,{product:n,aantal:0}),r["a"].set(e.inhoud,n.productId,Object(W["a"])(Object(W["a"])({},e.inhoud[n.productId]),{},{aantal:e.inhoud[n.productId].aantal+(Number(a)||1)})),0===e.inhoud[n.productId].aantal&&r["a"].delete(e.inhoud,n.productId)},verwijderInvoer:function(e,t){r["a"].delete(e.inhoud,t)},clearInvoer:function(e){e.inhoud={}}},actions:{plaatsBestelling:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,s,l,c,u,d,p,v,m,f,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=e.rootGetters,o=t.oudeInhoud,i=t.force,s=void 0!==i&&i,l=s,c=a.huidigePersoon,u=$e(c),d=Se.apply(void 0,Object(ue["a"])(Object.values(r.inhoud).map((function(e){return e.aantal*Number(e.product.prijs)})))),o?(v=Se.apply(void 0,Object(ue["a"])(Object.values(o).map((function(e){return e.aantal*Number(e.product.prijs)})))),p=c.saldo+v-d<0):p=c.saldo-d<0,(d<=0||"S_NOBODY"===c.status)&&(p=!1),m=0===Object.values(r.inhoud).length,!u||!p){n.next=13;break}throw new Error("Oudleden kunnen niet rood staan, inleg vereist!");case 13:if(!c||m){n.next=26;break}if(l||!p){n.next=18;break}throw new Le("Laat lid inleggen. Saldo wordt negatief.");case 18:return f={persoon:c,bestelTotaal:d,bestelLijst:Object.fromEntries(Object.values(r.inhoud).map((function(e){return[e.product.productId,e.aantal]}))),oudeBestelling:o},n.next=21,Sn({url:"/api/v3/bar/bestelling",method:"POST",data:{bestelling:JSON.stringify(f)}});case 21:if(h=n.sent,h){n.next=24;break}throw new Error('Er ging iets mis! "'.concat(h,'"'));case 24:n.next=28;break;case 26:if(!m){n.next=28;break}throw new Error("Geen bestelling ingevoerd!");case 28:case"end":return n.stop()}}),n)})))()}},getters:{}}),En=function(e){return e},An=En({state:function(){return{profiel:null,tokenData:null,selectie:null,locatieToken:null}},getters:{token:function(e){return jn(e.tokenData)},huidigePersoon:function(e,t,n){return e.selectie?n.personen[e.selectie]:null}},mutations:{setToken:function(e,t){e.tokenData=t},setLocatieToken:function(e,t){e.locatieToken=t},setProfiel:function(e,t){e.profiel=t},setSelectie:function(e,t){e.selectie=t}},actions:{fetchProfiel:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Sn({url:"/api/v3/profiel",method:"GET"});case 3:r=t.sent,n("setProfiel",r);case 5:case"end":return t.stop()}}),t)})))()}}});r["a"].use(U["a"]);var Dn=function(e,t){return function(n){var r=xn();r&&n.commit(e,r);var a=In();a&&n.commit(t,a),n.subscribe((function(n){n.type===e&&(n.payload?kn(n.payload):wn()),n.type===t&&(n.payload?yn(n.payload):On())}))}},Nn=new U["a"].Store({devtools:!0,plugins:[Dn("setToken","setLocatieToken")],state:function(){return{profiel:null,personen:{},producten:{}}},getters:{zichtbareProducten:function(e){return Object.values(e.producten).filter((function(e){return"0"===e.beheer&&"1"===e.status}))},personenWeergave:function(e){return Object.values(e.personen).filter((function(e){return"0"===e.deleted})).sort((function(e,t){return t.recent-e.recent}))}},mutations:{setPersonen:function(e,t){e.personen=t},setProducten:function(e,t){e.producten=t},setPersoon:function(e,t){r["a"].set(e.personen,t.socCieId,t)}},actions:{listUsers:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Sn({url:"/api/v3/bar/personen",method:"POST"});case 3:r=t.sent,a=Object.values(r),o=Object.fromEntries(a.map((function(e){return[e.socCieId,e]}))),n("setPersonen",o);case 7:case"end":return t.stop()}}),t)})))()},listProducten:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Sn({url:"/api/v3/bar/producten",method:"POST"});case 3:r=t.sent,a=Object.values(r),o=Object.fromEntries(a.map((function(e){return[e.productId,e]}))),n("setProducten",o);case 7:case"end":return t.stop()}}),t)})))()},postLogin:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("fetchProfiel");case 3:return t.next=5,n("listUsers");case 5:return t.next=7,n("listProducten");case 7:case"end":return t.stop()}}),t)})))()},vertrouwLocatie:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Sn({url:"/api/v3/bar/trust",method:"POST",data:JSON.stringify({naam:t})});case 3:a=n.sent,r("setLocatieToken",a);case 5:case"end":return n.stop()}}),n)})))()},updateBijnaam:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.state,o=t.id,i=t.name,n.next=4,Sn({url:"/api/v3/bar/updatePerson",method:"POST",data:{id:o,name:i}});case 4:r("setPersoon",Object(W["a"])(Object(W["a"])({},a.personen[o]),{},{bijnaam:i}));case 5:case"end":return n.stop()}}),n)})))()}},modules:{bestelling:Ln,invoer:Rn,user:An}});r["a"].config.productionTip=!1,new r["a"]({vuetify:z,store:Nn,router:Cn,render:function(e){return e(A)}}).$mount("#app")},dad7:function(e,t,n){},dfa6:function(e,t,n){},e06c:function(e,t,n){"use strict";n("e1c8")},e1c8:function(e,t,n){},f75a:function(e,t,n){"use strict";n("01f3")}});
//# sourceMappingURL=app.d86ac199.js.map